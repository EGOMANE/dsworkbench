/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * DummyPanel.java
 *
 * Created on Oct 6, 2010, 1:02:25 PM
 */
package de.tor.tribes.ui;

import java.awt.Color;
import java.awt.Graphics;
import java.awt.Point;
import java.awt.event.MouseEvent;
import java.awt.event.MouseMotionListener;
import java.awt.image.BufferedImage;
import javax.swing.JPanel;

/**
 *
 * @author Torridity
 */
public class DummyPanel extends JPanel {

    /** Creates new form DummyPanel */
    public DummyPanel() {
        initComponents();
        setDoubleBuffered(true);
        /*  new Timer("Rep", true).schedule(new TimerTask() {

        @Override
        public void run() {
        repaint();
        }
        }, 0, 10);*/
        addMouseMotionListener(new MouseMotionListener() {

            @Override
            public void mouseDragged(MouseEvent e) {
            }

            @Override
            public void mouseMoved(MouseEvent e) {
                repaint();
            }
        });
    }
    BufferedImage b2 = null;

    public void update(Graphics g) {
        paint(g);
    }

    public void paint(Graphics g) {
        super.paint(g);
        System.out.println(System.currentTimeMillis());
        renderOffscreen();
        g.drawImage(b2, 0, 0, this);
        g.dispose();
    }

    void renderOffscreen() {

        if (b2 == null) {
            b2 = new BufferedImage(getWidth(), getHeight(), BufferedImage.TYPE_INT_RGB);
        }

        Point p = getMousePosition();
        if (p != null) {
            Graphics gg = b2.getGraphics();
            //  gg.setColor(Color.BLACK);
            gg.clearRect(0, 0, getWidth(), getHeight());

            gg.setColor(Color.GREEN);
            gg.fillRect(p.x, p.y, 500, 500);
            gg.setColor(Color.WHITE);
            gg.fillRect(p.x + 100, p.y + 100, 500 - 100, 500 - 100);
            gg.dispose();
        }

    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

    }// </editor-fold>//GEN-END:initComponents
    // Variables declaration - do not modify//GEN-BEGIN:variables
    // End of variables declaration//GEN-END:variables
}
